<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enigmes - Mot Mystère</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .input-container {
            margin: 10px 0;
        }
        .validate-btn {
            background-color: green;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button onclick="openPopup()">Répondre à une énigme</button>
    
    <div class="popup" id="popup">
        <h2>Répondez à l'énigme</h2>
        <div class="input-container">
            <input type="text" id="answer" placeholder="Votre réponse">
        </div>
        <button class="validate-btn" onclick="validateAnswer()">Valider</button>
        <p id="result"></p>
    </div>
    
    <script>
        const enigmes = {
            1: { letterIndex: 1, answer: "soleil" },
            2: { letterIndex: 6, answer: "lune" },
            3: { letterIndex: 7, answer: "terre" },
            4: { letterIndex: 1, answer: "mer" },
            5: { letterIndex: 5, answer: "vent" },
            6: { letterIndex: 8, answer: "feu" },
            7: { letterIndex: 2, answer: "eau" },
            8: { letterIndex: 9, answer: "montagne" },
            9: { letterIndex: 4, answer: "pluie" },
            10: { letterIndex: 10, answer: "neige" }
        };
        
        let motMystere = new Array(10).fill("_");
        let reponses = JSON.parse(localStorage.getItem("reponses")) || {};
        
        function openPopup() {
            document.getElementById("popup").style.display = "block";
        }
        
        function closePopup() {
            document.getElementById("popup").style.display = "none";
        }
        
        function validateAnswer() {
            const userAnswer = document.getElementById("answer").value.toLowerCase().trim();
            let resultMessage = "Réponse incorrecte.";
            
            for (let key in enigmes) {
                if (enigmes[key].answer === userAnswer && !reponses[key]) {
                    const index = enigmes[key].letterIndex - 1;
                    motMystere[index] = userAnswer.charAt(0).toUpperCase();
                    reponses[key] = userAnswer;
                    localStorage.setItem("reponses", JSON.stringify(reponses));
                    localStorage.setItem("motMystere", motMystere.join(""));
                    resultMessage = "Réponse correcte !";
                    setTimeout(closePopup, 1000);
                    break;
                }
            }
            document.getElementById("result").innerText = resultMessage;
        }
    </script>
</body>
</html>

